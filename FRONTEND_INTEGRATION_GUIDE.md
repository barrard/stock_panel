# Frontend Integration Guide - Filing Analysis API

## Overview

This guide shows you how to integrate the filing analysis API into your frontend to display **top winners/losers** and individual stock analysis with quarterly trends.

---

## Quick Start

### Base URL

```javascript
const API_BASE = "http://localhost:3003/API/filing-analysis";
```

### Test the API

```bash
# Check if API is working
curl "http://localhost:3003/API/filing-analysis/top-winners-losers?topN=5&bottomN=5"
```

---

## Enhanced Pick Lists Frontend

### What Changed

- **New endpoint:** `GET /API/filing-analysis/enhanced-pick-lists` now bundles each pick-list category with scoring metadata generated by the filing-analysis service.
- **Richer payload:** Categories expose both the original raw ticker list and a sorted `topByScore` collection of tickers that include `score`, `strength`/`severity`, and `signalCount`.
- **Optional metadata:** Counts, last-updated timestamps, and analytic summaries may be present per category. The UI should surface what is available without breaking if a field is missing.

### Sample Response

```json
{
  "highGrowth": {
    "count": 47,
    "updatedAt": "2024-11-05T14:21:37.901Z",
    "tickers": ["SMCI", "NET", "MDB", "..."],
    "topByScore": [
      {
        "ticker": "SMCI",
        "score": 88,
        "strength": "exceptional",
        "signalCount": 6
      },
      {
        "ticker": "MDB",
        "score": 74,
        "strength": "strong",
        "signalCount": 4
      }
    ]
  },
  "financialDistress": {
    "count": 32,
    "tickers": ["AAL", "SAVE", "..."],
    "topByScore": [
      {
        "ticker": "SAVE",
        "score": 67,
        "severity": "high",
        "signalCount": 5
      }
    ]
  }
}
```

Back-end categories can expand over time. Use a defensive renderer that tolerates new keys.

### Fetching Enhanced Lists

```jsx
import API from "./API";

export default function PickList() {
  const [pickLists, setPickLists] = useState({});
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    async function fetchPickLists() {
      try {
        const data = await API.getEnhancedPickLists();
        setPickLists(data);
        setError(null);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    }

    fetchPickLists();
  }, []);
```

- `API.getEnhancedPickLists()` is a thin wrapper around the new endpoint (see `src/components/API.js`).
- Continue to expose a spinner/error state so the dashboard remains responsive while data loads.

### Rendering Tickers With Scores

Use a helper that gracefully handles both legacy string tickers and the enriched objects:

```jsx
const renderTickerWithAnalysis = (tickerData) => {
  if (typeof tickerData === "string") {
    return (
      <TickerItem key={tickerData}>
        <TickerSymbol>{tickerData}</TickerSymbol>
      </TickerItem>
    );
  }

  const { ticker, score, strength, severity, signalCount } = tickerData;
  const displayLabel = strength || severity || "low";

  return (
    <TickerItem key={ticker}>
      <TickerSymbol>{ticker}</TickerSymbol>
      {score !== undefined && (
        <>
          <ScoreBadge strength={strength} severity={severity}>
            {score} - {displayLabel}
          </ScoreBadge>
          {signalCount > 0 && <SignalCount>{signalCount} signals</SignalCount>}
        </>
      )}
    </TickerItem>
  );
};
```

- `strength` maps to positive badges; `severity` maps to warning colors. The styled-component shown below handles the color logic.
- Fallback path keeps older arrays working, so the UI does not explode while the back end is rolling out updates.

### Category Layout

```jsx
const categoryNames = {
  highGrowth: "High Growth",
  qualityValueTickers: "Quality Value",
  momentumGrowthTickers: "Momentum Growth",
  turnaroundTickers: "Turnaround",
  cashFlowTickers: "Cash Flow",
  financialDistress: "Financial Distress",
  deteriorating: "Deteriorating",
  zombieCompanies: "Zombie Companies",
  valueTraps: "Value Traps",
};

return (
  <ListContainer>
    {Object.entries(pickLists).map(([category, categoryData]) => {
      const tickers = Array.isArray(categoryData)
        ? categoryData
        : categoryData.tickers || [];
      const topByScore = categoryData.topByScore || [];

      return (
        <CategorySection key={category}>
          <CategoryHeader>
            <CategoryTitle>
              {categoryNames[category] || category}
              {categoryData.count && ` (${categoryData.count} stocks)`}
            </CategoryTitle>
          </CategoryHeader>
          <TickerGrid>
            {topByScore.length > 0
              ? topByScore.map((ticker) => renderTickerWithAnalysis(ticker))
              : tickers.map((ticker) => renderTickerWithAnalysis(ticker))}
          </TickerGrid>
        </CategorySection>
      );
    })}
  </ListContainer>
);
```

- Prefer `topByScore` when present so the highest confidence names surface first.
- Fall back to the raw `tickers` array to preserve the legacy behavior.
- `count` is optional; show it only when supplied.

### Styling Additions

```jsx
const ScoreBadge = styled.div`
  font-size: 0.65rem;
  padding: 0.15rem 0.3rem;
  border-radius: 0.2rem;
  background-color: ${(props) => {
    if (props.strength === "exceptional") return "#16a34a";
    if (props.strength === "strong") return "#22c55e";
    if (props.strength === "moderate") return "#84cc16";
    if (props.severity === "critical") return "#dc2626";
    if (props.severity === "high") return "#ef4444";
    if (props.severity === "warning") return "#f59e0b";
    return "#6b7280";
  }};
  color: #ffffff;
  font-weight: 500;
`;
```

- Positive lists (`strength`) render in greens; distressed lists (`severity`) render in reds/orange.
- `SignalCount` is a subtle tertiary line that highlights how many analytic triggers fired.

### Optional Real-Time Hooks

The pick-list view already wires a socket for future push updates:

```jsx
useEffect(() => {
  fetchPickLists();

  Socket.on("scannerMovers", (data) => {
    console.log(data);
  });

  return () => Socket.off("scannerMovers");
}, []);
```

Back-end publishers can emit updates to the `scannerMovers` channel without requiring additional UI work‚Äîthe cleanup handler keeps the listener scoped to the component lifecycle.

---

### Filing Analysis Highlights

- Call `API.getTopWinnersLosers({ topN: 8, bottomN: 8 })` alongside the enhanced pick lists to populate a winner/loser highlight strip.
- Each highlight card links to `/filing-analysis/:ticker`, where `FilingAnalysisDetail` renders the combined acceleration, deterioration, and quarterly trend data from `API.getFilingAnalysisFull(ticker)`.
- If the highlight fetch fails, surface a lightweight alert but continue rendering the categorized lists.

---

## 1. Top Winners & Losers Dashboard

### Fetch Data

```javascript
async function fetchTopWinnersLosers(topN = 10, bottomN = 10) {
    try {
        const response = await fetch(`http://localhost:3003/API/filing-analysis/top-winners-losers?topN=${topN}&bottomN=${bottomN}`);

        if (!response.ok) {
            throw new Error(`API error: ${response.status}`);
        }

        const data = await response.json();
        return data;
    } catch (error) {
        console.error("Error fetching winners/losers:", error);
        return null;
    }
}
```

### Response Structure

```javascript
{
  "topWinners": [
    {
      "ticker": "NVDA",
      "score": 85,                    // 0-100, higher = stronger
      "strength": "exceptional",       // weak | moderate | strong | exceptional
      "signalCount": 6,
      "signals": [
        {
          "type": "revenue_acceleration",
          "strength": "exceptional",
          "message": "4 of last 4 quarters showed strong revenue growth (avg: 92.3%)",
          "score": 20
        },
        // ... more signals
      ],
      "quarter": "2024-Q3",
      "filingDate": "2024-10-31"
    }
  ],
  "topLosers": [
    {
      "ticker": "XYZ",
      "score": 75,                     // 0-100, higher = worse
      "severity": "critical",          // low | moderate | high | critical
      "signalCount": 5,
      "signals": [
        {
          "type": "revenue_decline",
          "severity": "critical",
          "message": "3 of last 4 quarters showed revenue decline (avg: -15.2%)",
          "score": 15
        },
        // ... more signals
      ],
      "quarter": "2024-Q2",
      "filingDate": "2024-08-15"
    }
  ],
  "summary": {
    "totalAnalyzed": 523,
    "totalWinners": 234,
    "totalLosers": 187,
    "skipped": 102,
    "errors": 0
  }
}
```

### React Component Example

```jsx
import React, { useState, useEffect } from "react";

function TopWinnersLosersPage() {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    useEffect(() => {
        async function loadData() {
            setLoading(true);
            try {
                const response = await fetch("http://localhost:3003/API/filing-analysis/top-winners-losers?topN=10&bottomN=10");
                const result = await response.json();
                setData(result);
            } catch (err) {
                setError(err.message);
            } finally {
                setLoading(false);
            }
        }

        loadData();
    }, []);

    if (loading) return <div>Loading...</div>;
    if (error) return <div>Error: {error}</div>;

    return (
        <div className="winners-losers-page">
            <div className="winners-section">
                <h2>üèÜ Top 10 Winners</h2>
                <p className="summary">{data.summary.totalWinners} winning stocks found</p>

                {data.topWinners.map((stock) => (
                    <WinnerCard key={stock.ticker} stock={stock} />
                ))}
            </div>

            <div className="losers-section">
                <h2>‚ö†Ô∏è Top 10 Losers</h2>
                <p className="summary">{data.summary.totalLosers} deteriorating stocks found</p>

                {data.topLosers.map((stock) => (
                    <LoserCard key={stock.ticker} stock={stock} />
                ))}
            </div>
        </div>
    );
}
```

### Display Component - Winner Card

```jsx
function WinnerCard({ stock }) {
    return (
        <div className={`stock-card winner strength-${stock.strength}`}>
            <div className="header">
                <h3>{stock.ticker}</h3>
                <div className={`score-badge ${stock.strength}`}>{stock.score}</div>
            </div>

            <div className="strength-label">{stock.strength.toUpperCase()}</div>

            <div className="signals">
                {stock.signals.slice(0, 3).map((signal, idx) => (
                    <div key={idx} className="signal">
                        <span className="signal-icon">‚úÖ</span>
                        <span className="signal-message">{signal.message}</span>
                    </div>
                ))}
            </div>

            <div className="meta">
                <span>{stock.signalCount} signals</span>
                <span>{stock.quarter}</span>
                <span>Filed: {new Date(stock.filingDate).toLocaleDateString()}</span>
            </div>
        </div>
    );
}
```

### Display Component - Loser Card

```jsx
function LoserCard({ stock }) {
    return (
        <div className={`stock-card loser severity-${stock.severity}`}>
            <div className="header">
                <h3>{stock.ticker}</h3>
                <div className={`score-badge ${stock.severity}`}>{stock.score}</div>
            </div>

            <div className="severity-label">{stock.severity.toUpperCase()}</div>

            <div className="signals">
                {stock.signals.slice(0, 3).map((signal, idx) => (
                    <div key={idx} className="signal">
                        <span className="signal-icon">‚ö†Ô∏è</span>
                        <span className="signal-message">{signal.message}</span>
                    </div>
                ))}
            </div>

            <div className="meta">
                <span>{stock.signalCount} red flags</span>
                <span>{stock.quarter}</span>
                <span>Filed: {new Date(stock.filingDate).toLocaleDateString()}</span>
            </div>
        </div>
    );
}
```

### CSS Styling

```css
.stock-card {
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Winner styles */
.stock-card.winner {
    border-left: 4px solid #10b981;
    background: linear-gradient(to right, #f0fdf4, white);
}

.strength-exceptional {
    color: #059669;
    font-weight: bold;
}
.strength-strong {
    color: #10b981;
}
.strength-moderate {
    color: #84cc16;
}

/* Loser styles */
.stock-card.loser {
    border-left: 4px solid #ef4444;
    background: linear-gradient(to right, #fef2f2, white);
}

.severity-critical {
    color: #dc2626;
    font-weight: bold;
}
.severity-high {
    color: #ef4444;
}
.severity-moderate {
    color: #f97316;
}
.severity-low {
    color: #eab308;
}

.score-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 12px;
    font-weight: bold;
    font-size: 18px;
}

.winner .score-badge {
    background: #d1fae5;
    color: #065f46;
}
.loser .score-badge {
    background: #fee2e2;
    color: #991b1b;
}

.signals {
    margin: 12px 0;
}

.signal {
    display: flex;
    gap: 8px;
    margin: 6px 0;
    font-size: 14px;
    color: #6b7280;
}

.meta {
    display: flex;
    gap: 12px;
    font-size: 12px;
    color: #9ca3af;
    margin-top: 12px;
}
```

---

## 2. Individual Stock Detail Page

### Fetch Full Analysis

```javascript
async function fetchStockAnalysis(ticker) {
    try {
        const response = await fetch(`http://localhost:3003/API/filing-analysis/full/${ticker}`);

        const data = await response.json();
        return data;
    } catch (error) {
        console.error(`Error fetching analysis for ${ticker}:`, error);
        return null;
    }
}
```

### Response Structure

```javascript
{
  "ticker": "AAPL",
  "deterioration": {
    "ticker": "AAPL",
    "score": 5,                         // 0-100 (lower is better)
    "severity": "low",                  // low | moderate | high | critical
    "signals": [/* array of warning signals */],
    "signalCount": 1,
    "quartersCovered": 8,
    "latestQuarter": "2024-Q3",
    "latestFilingDate": "2024-10-31"
  },
  "acceleration": {
    "ticker": "AAPL",
    "score": 42,                        // 0-100 (higher is better)
    "strength": "strong",               // weak | moderate | strong | exceptional
    "signals": [
      {
        "type": "revenue_acceleration",
        "strength": "strong",
        "message": "3 of last 4 quarters showed strong revenue growth (avg: 6.1%)",
        "score": 15
      }
    ],
    "signalCount": 3,
    "quartersCovered": 8,
    "latestQuarter": "2024-Q3",
    "latestFilingDate": "2024-10-31"
  },
  "trends": {
    "ticker": "AAPL",
    "quarterCount": 8,
    "filings": [
      {
        "ticker": "AAPL",
        "filed_date": "2024-09-30",
        "DocumentFiscalPeriodFocus": "Q4",
        "DocumentFiscalYearFocus": "2024",
        "Revenues": 94930000000,
        "NetIncomeLoss": 25000000000,
        "GrossMargin": 46.2,
        "OperatingMargin": 30.5,
        "NetMargin": 26.3,
        "CurrentRatio": 1.02,
        "WorkingCapital": 8500000000
      }
      // ... 7 more quarters
    ],
    "trends": {
      "revenue": [
        { "quarter": "2024-Q4", "change": 6.1, "value": 94930000000 }
        // ... more quarters
      ],
      "grossMargin": [
        { "quarter": "2024-Q4", "change": 0.8, "value": 46.2 }
      ],
      "netIncome": [...],
      "operatingCashFlow": [...]
    }
  }
}
```

### React Component Example

```jsx
function StockDetailPage({ ticker }) {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        async function loadStockDetail() {
            setLoading(true);
            const response = await fetch(`http://localhost:3003/API/filing-analysis/full/${ticker}`);
            const result = await response.json();
            setData(result);
            setLoading(false);
        }

        loadStockDetail();
    }, [ticker]);

    if (loading) return <div>Loading {ticker}...</div>;

    return (
        <div className="stock-detail-page">
            <h1>{ticker} - Quarterly Filing Analysis</h1>

            {/* Score Cards */}
            <div className="score-cards">
                <ScoreCard title="Acceleration Score" score={data.acceleration.score} strength={data.acceleration.strength} type="winner" />
                <ScoreCard
                    title="Deterioration Score"
                    score={data.deterioration.score}
                    severity={data.deterioration.severity}
                    type="loser"
                />
            </div>

            {/* Signals */}
            <div className="signals-section">
                <h2>üìà Positive Signals</h2>
                {data.acceleration.signals.length > 0 ? (
                    <SignalsList signals={data.acceleration.signals} type="positive" />
                ) : (
                    <p>No significant acceleration signals</p>
                )}

                <h2>‚ö†Ô∏è Warning Signals</h2>
                {data.deterioration.signals.length > 0 ? (
                    <SignalsList signals={data.deterioration.signals} type="warning" />
                ) : (
                    <p>No significant deterioration signals</p>
                )}
            </div>

            {/* Quarterly Trends Chart */}
            <div className="trends-section">
                <h2>üìä Quarterly Trends (Last 8 Quarters)</h2>
                <TrendsChart trends={data.trends} />
            </div>

            {/* Raw Data Table */}
            <div className="data-table-section">
                <h2>üìã Quarterly Data</h2>
                <QuarterlyDataTable filings={data.trends.filings} />
            </div>
        </div>
    );
}
```

### Score Card Component

```jsx
function ScoreCard({ title, score, strength, severity, type }) {
    const label = strength || severity;
    const colorClass = type === "winner" ? "green" : "red";

    return (
        <div className={`score-card ${colorClass}`}>
            <h3>{title}</h3>
            <div className="score-display">{score}</div>
            <div className={`label ${label}`}>{label.toUpperCase()}</div>
        </div>
    );
}
```

### Signals List Component

```jsx
function SignalsList({ signals, type }) {
    const icon = type === "positive" ? "‚úÖ" : "‚ö†Ô∏è";

    return (
        <div className="signals-list">
            {signals.map((signal, idx) => (
                <div key={idx} className={`signal-item ${type}`}>
                    <span className="signal-icon">{icon}</span>
                    <div className="signal-content">
                        <div className="signal-type">{signal.type.replace(/_/g, " ")}</div>
                        <div className="signal-message">{signal.message}</div>
                        <div className="signal-score">Score: {signal.score}</div>
                    </div>
                </div>
            ))}
        </div>
    );
}
```

### Trends Chart Component (with Chart.js)

```jsx
import { Line } from "react-chartjs-2";

function TrendsChart({ trends }) {
    const chartData = {
        labels: trends.revenue.map((d) => d.quarter),
        datasets: [
            {
                label: "Revenue Growth %",
                data: trends.revenue.map((d) => d.change),
                borderColor: "#3b82f6",
                backgroundColor: "rgba(59, 130, 246, 0.1)",
            },
            {
                label: "Gross Margin Change",
                data: trends.grossMargin.map((d) => d.change),
                borderColor: "#10b981",
                backgroundColor: "rgba(16, 185, 129, 0.1)",
            },
            {
                label: "Net Income Growth %",
                data: trends.netIncome.map((d) => d.change),
                borderColor: "#f59e0b",
                backgroundColor: "rgba(245, 158, 11, 0.1)",
            },
        ],
    };

    const options = {
        responsive: true,
        plugins: {
            title: {
                display: true,
                text: "Quarter-over-Quarter Changes",
            },
            legend: {
                position: "bottom",
            },
        },
        scales: {
            y: {
                title: {
                    display: true,
                    text: "Percentage Change",
                },
            },
        },
    };

    return <Line data={chartData} options={options} />;
}
```

### Quarterly Data Table

```jsx
function QuarterlyDataTable({ filings }) {
    return (
        <table className="quarterly-data-table">
            <thead>
                <tr>
                    <th>Quarter</th>
                    <th>Revenue</th>
                    <th>Net Income</th>
                    <th>Gross Margin</th>
                    <th>Operating Margin</th>
                    <th>Cash Flow</th>
                    <th>Current Ratio</th>
                </tr>
            </thead>
            <tbody>
                {filings.map((filing, idx) => (
                    <tr key={idx}>
                        <td>
                            {filing.DocumentFiscalYearFocus}-{filing.DocumentFiscalPeriodFocus}
                        </td>
                        <td>${(filing.Revenues / 1e9).toFixed(2)}B</td>
                        <td>${(filing.NetIncomeLoss / 1e9).toFixed(2)}B</td>
                        <td>{filing.GrossMargin.toFixed(1)}%</td>
                        <td>{filing.OperatingMargin.toFixed(1)}%</td>
                        <td>${(filing.NetCashFlowsOperating / 1e9).toFixed(2)}B</td>
                        <td>{filing.CurrentRatio.toFixed(2)}</td>
                    </tr>
                ))}
            </tbody>
        </table>
    );
}
```

---

## 3. Stock Search/Browser Feature

### Search Component with Analysis

```jsx
function StockBrowser() {
    const [searchTerm, setSearchTerm] = useState("");
    const [selectedStock, setSelectedStock] = useState(null);
    const [topStocks, setTopStocks] = useState(null);

    useEffect(() => {
        // Load top winners/losers on mount
        async function loadTopStocks() {
            const response = await fetch("http://localhost:3003/API/filing-analysis/top-winners-losers?topN=20&bottomN=20");
            const data = await response.json();
            setTopStocks(data);
        }
        loadTopStocks();
    }, []);

    const allStocks = topStocks ? [...topStocks.topWinners, ...topStocks.topLosers] : [];

    const filteredStocks = allStocks.filter((stock) => stock.ticker.toLowerCase().includes(searchTerm.toLowerCase()));

    return (
        <div className="stock-browser">
            <div className="search-sidebar">
                <input type="text" placeholder="Search ticker..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />

                <div className="stock-list">
                    {filteredStocks.map((stock) => (
                        <div
                            key={stock.ticker}
                            className={`stock-list-item ${selectedStock?.ticker === stock.ticker ? "active" : ""}`}
                            onClick={() => setSelectedStock(stock)}
                        >
                            <span className="ticker">{stock.ticker}</span>
                            <span className={`score ${stock.strength || stock.severity}`}>{stock.score}</span>
                        </div>
                    ))}
                </div>
            </div>

            <div className="stock-detail-panel">
                {selectedStock ? (
                    <StockDetailPage ticker={selectedStock.ticker} />
                ) : (
                    <div className="empty-state">Select a stock to view analysis</div>
                )}
            </div>
        </div>
    );
}
```

---

## 4. Performance Best Practices

### Loading States

```jsx
function LoadingSpinner() {
    return (
        <div className="loading-spinner">
            <div className="spinner"></div>
            <p>Analyzing quarterly filings...</p>
            <small>First load may take up to 60 seconds</small>
        </div>
    );
}
```

### Error Handling

```jsx
function ErrorDisplay({ error, onRetry }) {
    return (
        <div className="error-display">
            <h3>‚ö†Ô∏è Error Loading Data</h3>
            <p>{error}</p>
            <button onClick={onRetry}>Retry</button>
        </div>
    );
}
```

### Caching in Frontend

```javascript
// Simple in-memory cache for client-side
const cache = new Map();
const CACHE_TTL = 60 * 60 * 1000; // 1 hour

async function fetchWithCache(url) {
    const cached = cache.get(url);
    if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
        return cached.data;
    }

    const response = await fetch(url);
    const data = await response.json();

    cache.set(url, { data, timestamp: Date.now() });
    return data;
}
```

---

## 5. Complete Example - Dashboard

### Full Dashboard Component

```jsx
import React, { useState, useEffect } from "react";

function FilingAnalysisDashboard() {
    const [view, setView] = useState("overview"); // 'overview' | 'detail'
    const [selectedTicker, setSelectedTicker] = useState(null);
    const [winnersLosers, setWinnersLosers] = useState(null);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        async function loadDashboard() {
            const response = await fetch("http://localhost:3003/API/filing-analysis/top-winners-losers?topN=10&bottomN=10");
            const data = await response.json();
            setWinnersLosers(data);
            setLoading(false);
        }
        loadDashboard();
    }, []);

    const handleStockClick = (ticker) => {
        setSelectedTicker(ticker);
        setView("detail");
    };

    const handleBackToOverview = () => {
        setView("overview");
        setSelectedTicker(null);
    };

    if (loading) {
        return <LoadingSpinner />;
    }

    return (
        <div className="filing-analysis-dashboard">
            {/* Header */}
            <header className="dashboard-header">
                <h1>üìä Quarterly Filing Analysis</h1>
                {view === "detail" && <button onClick={handleBackToOverview}>‚Üê Back to Overview</button>}
            </header>

            {/* Main Content */}
            {view === "overview" ? (
                <div className="overview-grid">
                    {/* Summary Stats */}
                    <div className="summary-card">
                        <h3>Analysis Summary</h3>
                        <div className="stats">
                            <div className="stat">
                                <div className="stat-value">{winnersLosers.summary.totalAnalyzed}</div>
                                <div className="stat-label">Stocks Analyzed</div>
                            </div>
                            <div className="stat">
                                <div className="stat-value green">{winnersLosers.summary.totalWinners}</div>
                                <div className="stat-label">Winners</div>
                            </div>
                            <div className="stat">
                                <div className="stat-value red">{winnersLosers.summary.totalLosers}</div>
                                <div className="stat-label">Losers</div>
                            </div>
                        </div>
                    </div>

                    {/* Winners List */}
                    <div className="winners-column">
                        <h2>üèÜ Top 10 Winners</h2>
                        {winnersLosers.topWinners.map((stock) => (
                            <div key={stock.ticker} className="stock-card winner clickable" onClick={() => handleStockClick(stock.ticker)}>
                                <WinnerCard stock={stock} />
                            </div>
                        ))}
                    </div>

                    {/* Losers List */}
                    <div className="losers-column">
                        <h2>‚ö†Ô∏è Top 10 Losers</h2>
                        {winnersLosers.topLosers.map((stock) => (
                            <div key={stock.ticker} className="stock-card loser clickable" onClick={() => handleStockClick(stock.ticker)}>
                                <LoserCard stock={stock} />
                            </div>
                        ))}
                    </div>
                </div>
            ) : (
                <StockDetailPage ticker={selectedTicker} />
            )}
        </div>
    );
}

export default FilingAnalysisDashboard;
```

---

## 6. API Endpoints Quick Reference

```javascript
// Main endpoints
const API = {
    // Get top winners and losers
    topWinnersLosers: (topN = 10, bottomN = 10) => `/API/filing-analysis/top-winners-losers?topN=${topN}&bottomN=${bottomN}`,

    // Get quarterly trends for a stock
    quarterlyTrends: (ticker, quarters = 8) => `/API/filing-analysis/quarterly-trends/${ticker}?quarters=${quarters}`,

    // Get deterioration analysis (failing signals)
    deterioration: (ticker) => `/API/filing-analysis/deterioration/${ticker}`,

    // Get acceleration analysis (winning signals)
    acceleration: (ticker) => `/API/filing-analysis/acceleration/${ticker}`,

    // Get full analysis (all of the above)
    full: (ticker) => `/API/filing-analysis/full/${ticker}`,

    // Get enhanced pick lists
    enhancedPickLists: () => `/API/filing-analysis/enhanced-pick-lists`,
};

// Usage
const winnersLosers = await fetch(API.topWinnersLosers(20, 20));
const appleAnalysis = await fetch(API.full("AAPL"));
```

---

## 7. TypeScript Types (Optional)

```typescript
interface Signal {
    type: string;
    strength?: "weak" | "moderate" | "strong" | "exceptional";
    severity?: "low" | "moderate" | "high" | "critical";
    message: string;
    score: number;
}

interface WinnerStock {
    ticker: string;
    score: number;
    strength: "weak" | "moderate" | "strong" | "exceptional";
    signalCount: number;
    signals: Signal[];
    quarter: string;
    filingDate: string;
}

interface LoserStock {
    ticker: string;
    score: number;
    severity: "low" | "moderate" | "high" | "critical";
    signalCount: number;
    signals: Signal[];
    quarter: string;
    filingDate: string;
}

interface WinnersLosersResponse {
    topWinners: WinnerStock[];
    topLosers: LoserStock[];
    summary: {
        totalAnalyzed: number;
        totalWinners: number;
        totalLosers: number;
        skipped: number;
        errors: number;
    };
}
```

---

## Summary

‚úÖ **6 API endpoints** ready to use
‚úÖ **React components** for winners/losers dashboard
‚úÖ **Individual stock detail pages** with trends
‚úÖ **Search/browser functionality**
‚úÖ **Chart examples** with Chart.js
‚úÖ **Responsive designs** with CSS
‚úÖ **Error handling & loading states**
‚úÖ **TypeScript types** for type safety

**Performance:**

-   First load: 30-60 seconds (cache warming)
-   Cached loads: <100ms (instant!)
-   Individual stocks: <20ms (after first load)

Now you can build a powerful stock analysis dashboard with quarterly filing insights! üöÄ
